# local-bot

Иногда мы хотим быстро попробовать свою идею реализованную через телеграм бота. Но довольно сложно настроить инфраструктуру. Нужно чтобы запущенный бот подписался на webhook-и, для этого необходимо настроить сертификат https и т.д.

Данная библиотекта пытается упростить эту задачу через туннелирование. Например через библиотеку localtunnel.

## Запуск
```js
// Создайте экземпляр класса `LocalBot`:
const localBot = new LocalBot({ port: 3000, subdomain: 'bot-domain' }, BOT_TOKEN, logger);

// Инициализация. Подключение к сервису localtunnel. Получение url для webhook.
localBot.init();

// Реализация обработчика своего бота.
function hanlder(update: Update): void {
    console.info('update hanlder: ', JSON.stringify(update, null, 2));
}

// Подписать свой обработчик локальному боту, чтобы он передавал входящие update ему.
bot.subscribeUpdates(hanlder);

// Запустить сервер бота, чтобы он мог принимать сообщения.
bot.startBotServer();

// Все готово. Можно тестировать работу своего бота. Все update будут приходить на ваш обработчик handler.
```

## Дополнительно
Вы можете отправлять сообщение пользователю используя api `BotApi`.
```js
// Подготовить сообщение
const msg = {
  text: 'hi from lt',
  chat_id: 773084180,

};

// Отправить сообщение в чат
localBot.botApi.sendMessage(msg);
```
